server:
  port: 8080

spring:
  application:
    name: api-gateway
  cloud:
    gateway:
      routes:
        # Auth Service
        - id: auth-service
          uri: http://localhost:8081
          predicates:
            - Path=/auth/**

        # User Service
        - id: user-service
          uri: http://localhost:8082
          predicates:
            - Path=/users/**

        # Question Service
        - id: question-service
          uri: http://localhost:8085
          predicates:
            - Path=/questions/**

        # Exam Service
        - id: exam-service
          uri: http://localhost:8086
          predicates:
            - Path=/exams/**

        # Career Service
        - id: career-service
          uri: http://localhost:8084
          predicates:
            - Path=/career/**

        # News Service
        - id: news-service
          uri: http://localhost:8087
          predicates:
            - Path=/news/**
            - Path=/recruitments/**

        # NLP Service
        - id: nlp-service
          uri: http://localhost:8088
          predicates:
            - Path=/health
            - Path=/grading/**
            - Path=/questions/similarity/**
            - Path=/ai-studio/**
      globalcors:
        cors-configurations:
          '[/**]':
            allowed-origins: "*"
            allowed-methods: "*"
            allowed-headers: "*"
            allow-credentials: false

# Management endpoints
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: always

# Logging
logging:
  level:
    org.springframework.cloud.gateway: INFO
    reactor.netty: INFO
    com.abc.gateway_service: INFO